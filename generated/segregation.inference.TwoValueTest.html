<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>segregation.inference.TwoValueTest &#8212; segregation v2.5.3.dev4+g41250e6 Manual</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=9afac83c" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <script src="../_static/documentation_options.js?v=2e3d20c2"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <link rel="icon" href="../_static/pysal_favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="segregation.inference.simulate_bootstrap_resample" href="segregation.inference.simulate_bootstrap_resample.html" />
    <link rel="prev" title="segregation.inference.SingleValueTest" href="segregation.inference.SingleValueTest.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          segregation</a>
        <span class="navbar-text navbar-version pull-left"><b>2.5.3.dev4+g41250e6</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../installation.html">Installation</a></li>
                <li><a href="../api.html">API</a></li>
                <li><a href="../tutorial.html">Tutorial</a></li>
                <li><a href="../references.html">References</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">segregation.inference.TwoValueTest</a><ul>
<li><a class="reference internal" href="#segregation.inference.TwoValueTest"><code class="docutils literal notranslate"><span class="pre">TwoValueTest</span></code></a><ul>
<li><a class="reference internal" href="#segregation.inference.TwoValueTest.__init__"><code class="docutils literal notranslate"><span class="pre">TwoValueTest.__init__()</span></code></a></li>
<li><a class="reference internal" href="#segregation.inference.TwoValueTest.plot"><code class="docutils literal notranslate"><span class="pre">TwoValueTest.plot()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="segregation-inference-twovaluetest">
<h1>segregation.inference.TwoValueTest<a class="headerlink" href="#segregation-inference-twovaluetest" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="segregation.inference.TwoValueTest">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">segregation.inference.</span></span><span class="sig-name descname"><span class="pre">TwoValueTest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seg_class_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg_class_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations_under_null</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">null_approach</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'random_label'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'loky'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_kwargs_1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_kwargs_2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/segregation/inference/inference_wrappers.html#TwoValueTest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#segregation.inference.TwoValueTest" title="Link to this definition">¶</a></dt>
<dd><p>Perform comparative inference for two segregation measures.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>seg_class_1</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">segregation.singlegroup</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">segregation.multigroup</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">class</span></code></span></dt><dd><p>a fitted segregation class to be compared to seg_class_2</p>
</dd>
<dt><strong>seg_class_2</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">segregation.singlegroup</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">segregation.multigroup</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">class</span></code></span></dt><dd><p>a fitted segregation class to be compared to seg_class_1</p>
</dd>
<dt><strong>iterations_under_null</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">int</span></code></a></span></dt><dd><p>number of iterations to simulate observations in a null distribution</p>
</dd>
<dt><strong>null_approach</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Which type of null hypothesis the inference will iterate. One of the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">random_label</span></code>:</p></li>
</ul>
<p>Randomly assign each spatial unit to a region then recalculate segregation indices and take their
difference. Repeat this process <cite>iterations</cite> times to generate a reference distribution. Then test
the observed difference aginst this distribution.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bootstrap</span></code>:</p></li>
</ul>
<p>Use bootstrap resampling to generate distributions of each segregation index in the
comparison, then use a two sample t-test to compare differences between the distribution means.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">composition</span></code>:</p></li>
</ul>
<p>Generate counterfactual estimates for each region using the sim_composition approach.
On each iteration, generate a synthetic dataset for each region where each unit has a 50% chance
of belonging to the original data or the counterfactual data. Recalculate segregation indices on
the synthetic datasets.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">share</span></code>:</p></li>
</ul>
<p>Generate counterfactual estimates for each region using the sim_share approach.
On each iteration, generate a synthetic dataset for each region where each unit has a 50% chance
of belonging to the original data or the counterfactual data. Recalculate segregation indices on
the synthetic datasets. Then follow the random labeling method on these synthetic data</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dual_composition</span></code>:</p></li>
</ul>
<p>Generate counterfactual estimates for each region using the sim_dual_composition
approach. On each iteration, generate a synthetic dataset for each region where each unit has a 50%
chance of belonging to the original data or the counterfactual data. Then follow the random labeling
method on these synthetic data</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">person_permutation</span></code>:</p></li>
</ul>
<p>Use the simulate_person_permutation approach to randomly reallocate the combined
population across both regions then recalculate segregation indices</p>
</dd>
<dt><strong>n_jobs: int, optional</strong></dt><dd><p>number of cores to use for estimation. If -1 all available cpus will be used</p>
</dd>
<dt><strong>backend: str, optional</strong></dt><dd><p>which backend to use with joblib. Options include “loky”, “multiprocessing”, or “threading”</p>
</dd>
<dt><strong>index_kwargs_1</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">dict</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">optional</span></code></span></dt><dd><p>extra parameters to pass to segregation index 1.</p>
</dd>
<dt><strong>index_kwargs_2</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">dict</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">optional</span></code></span></dt><dd><p>extra parameters to pass to segregation index 2.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>p_value</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#float" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">float</span></code></a></span></dt><dd><p>Two-Tailed p-value</p>
</dd>
<dt><strong>est_sim</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v2.2)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">array</span></code></a></span></dt><dd><p>Estimates of the segregation measure differences under the null hypothesis</p>
</dd>
<dt><strong>est_point_diff</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#float" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">float</span></code></a></span></dt><dd><p>Observed difference between the segregation measures</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function performs inference to compare two segregation measures. This can be either
two measures of the same locations in two different points in time or it can be two
different locations at the same point in time. The null hypothesis is H0: Segregation_1
is not different than Segregation_2.
Based on Rey, Sergio J., and Myrna L. Sastré-Gutiérrez. “Interregional inequality dynamics in Mexico.” Spatial Economic Analysis 5.3 (2010): 277-298.</p>
<p class="rubric">Examples</p>
<p>Several examples can be found here <a class="reference external" href="https://github.com/pysal/segregation/blob/master/notebooks/inference_wrappers_example.ipynb">https://github.com/pysal/segregation/blob/master/notebooks/inference_wrappers_example.ipynb</a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="segregation.inference.TwoValueTest.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seg_class_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg_class_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations_under_null</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">null_approach</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'random_label'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'loky'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_kwargs_1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_kwargs_2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/segregation/inference/inference_wrappers.html#TwoValueTest.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#segregation.inference.TwoValueTest.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#segregation.inference.TwoValueTest.__init__" title="segregation.inference.TwoValueTest.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(seg_class_1, seg_class_2[, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#segregation.inference.TwoValueTest.plot" title="segregation.inference.TwoValueTest.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>([color, color2, kde, ax])</p></td>
<td><p>Plot the distribution of simulated values and the index value being tested.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="segregation.inference.TwoValueTest.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'darkblue'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'darkred'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kde</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/segregation/inference/inference_wrappers.html#TwoValueTest.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#segregation.inference.TwoValueTest.plot" title="Link to this definition">¶</a></dt>
<dd><p>Plot the distribution of simulated values and the index value being tested.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>color</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">optional</span></code></span></dt><dd><p>histogram color, by default ‘darkblue’</p>
</dd>
<dt><strong>color2: str, optional, by default “darkred”</strong></dt><dd><p>Color for second histogram. Only relevant for bootstrap test</p>
</dd>
<dt><strong>kde</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#bltin-boolean-values" title="(in Python v3.9)"><span class="xref std std-ref">bool</span></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">optional</span></code></span></dt><dd><p>Whether to plot the kernel density estimate along with the histogram,
by default True</p>
</dd>
<dt><strong>ax</strong><span class="classifier"><a class="reference external" href="https://matplotlib.org/stable/api/axes_api.html#module-matplotlib.axes" title="(in Matplotlib v3.10.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.axes</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">optional</span></code></span></dt><dd><p>axes object to plot onto, by default None</p>
</dd>
<dt><strong>kwargs</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seaborn.histplot</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">argument</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">optional</span></code></span></dt><dd><p>additional keyword arguments passed to seaborn’s histplot function</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference external" href="https://matplotlib.org/stable/api/axes_api.html#module-matplotlib.axes" title="(in Matplotlib v3.10.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.axes</span></code></a></dt><dd><p>pyplot axes object</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/generated/segregation.inference.TwoValueTest.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2018, pysal developers.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 8.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>